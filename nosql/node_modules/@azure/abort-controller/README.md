---
ms.openlocfilehash: fe1a29595719e88783616e54c070b9b946052910
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052645"
---
# <a name="azure-abort-controller-library-for-javascript"></a>Biblioteca de Controladora de Anulación de Azure para JavaScript

El paquete `@azure/abort-controller` proporciona clases `AbortController` y `AbortSignal`. Estas clases son compatibles con [AbortController](https://developer.mozilla.org/docs/Web/API/AbortController) integrado en exploradores modernos y el `AbortSignal` usado por la [captura](https://developer.mozilla.org/docs/Web/API/Fetch_API).
Use la clase `AbortController` para crear una instancia de la clase `AbortSignal` que se puede usar para cancelar una operación en un SDK de Azure que acepte un parámetro de tipo `AbortSignalLike`.

## <a name="getting-started"></a>Introducción

### <a name="installation"></a>Instalación

Instale esta biblioteca con npm como se indica a continuación

```
npm install @azure/abort-controller
```

## <a name="key-concepts"></a>Conceptos clave

Use `AbortController` para crear un elemento `AbortSignal`, que luego se puede pasar a las operaciones de Azure SDK para cancelar el trabajo pendiente. Se puede acceder a `AbortSignal` a través de la propiedad `signal` en una instancia de `AbortController`.
También `AbortSignal` se puede devolver directamente desde un método estático, por ejemplo, `AbortController.timeout(100)`.
se cancela después de 100 milisegundos.

Al llamar a `abort()` en la instancia de `AbortController`, se invocan los agentes de escucha de eventos registrados `abort` en el asociado `AbortSignal`.
Las llamadas posteriores a `abort()` en el mismo controlador no tendrán ningún efecto.

La propiedad estática `AbortSignal.none` devuelve un `AbortSignal` que no se puede anular.

Se pueden vincular varias instancias de `AbortSignal` para que la llamada a `abort()` en la señal primaria anule todas las señales vinculadas.
Esta vinculación es unidireccional, lo que significa que una señal primaria puede afectar a una señal vinculada, pero no al revés.
Para vincular `AbortSignals`, pase las señales primarias al constructor `AbortController`.

## <a name="examples"></a>Ejemplos

En los ejemplos siguientes se supone que `doAsyncWork` es una función que toma una bolsa de propiedades, una de las cuales es de la señal de anulación.

### <a name="example-1---basic-usage"></a>Ejemplo 1: uso básico

```js
import { AbortController } from "@azure/abort-controller";

const controller = new AbortController();
doAsyncWork({ abortSignal: controller.signal });

// at some point later
controller.abort();
```

### <a name="example-2---aborting-with-timeout"></a>Ejemplo 2: anular con tiempo de espera

```js
import { AbortController } from "@azure/abort-controller";

const signal = AbortController.timeout(1000);
doAsyncWork({ abortSignal: signal });
```

### <a name="example-3---aborting-sub-tasks"></a>Ejemplo 3: anular subtareas

```js
import { AbortController } from "@azure/abort-controller";

const allTasksController = new AbortController();

const subTask1 = new AbortController(allTasksController.signal);
const subtask2 = new AbortController(allTasksController.signal);

allTasksController.abort(); // aborts allTasksSignal, subTask1, subTask2
subTask1.abort(); // aborts only subTask1
```

### <a name="example-4---aborting-with-parent-signal-or-timeout"></a>Ejemplo 4: anular con señal primaria o tiempo de espera

```js
import { AbortController } from "@azure/abort-controller";

const allTasksController = new AbortController();

// create a subtask controller that can be aborted manually,
// or when either the parent task aborts or the timeout is reached.
const subTask = new AbortController(allTasksController.signal, AbortController.timeout(100));

allTasksController.abort(); // aborts allTasksSignal, subTask
subTask.abort(); // aborts only subTask
```

## <a name="contributing"></a>Contribuciones

Si desea contribuir a esta biblioteca, lea la [guía de contribución](https://github.com/Azure/azure-sdk-for-js/blob/master/CONTRIBUTING.md) para obtener más información sobre cómo compilar y probar el código.

![Impresiones](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js%2Fsdk%2Fcore%2Fabort-controller%2FREADME.png)
