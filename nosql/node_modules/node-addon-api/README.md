---
ms.openlocfilehash: 5f4ff1937c647160a418ca9c807267dc22e5e09f
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052669"
---
NOTA: Se ha cambiado el nombre de la rama predeterminada.
La rama master ahora se denomina main.

Si tiene un clon local, puede actualizarlo mediante la ejecución de lo siguiente:

```shell
git branch -m master main
git fetch origin
git branch -u origin/main main
```

# <a name="node-addon-api-module"></a>**node-addon-api module**
Este módulo contiene **clases contenedoras de C++ de solo encabezado** que simplifican el uso de [Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html) basado en C proporcionada por Node.js al usar C++. Proporciona un modelo de objetos de C++ y una semántica de control de excepciones con una sobrecarga baja.

Hay tres opciones para implementar complementos: Node-API, nan o el uso directo de las bibliotecas internas V8, libuv y Node.js. A menos que sea necesario acceder directamente a la funcionalidad que no expone la API de Node, como se describe en [complementos de C/C++](https://nodejs.org/dist/latest/docs/api/addons.html) en Node.js Core, use Node-API. Consulte [Complementos de C/C++ con Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html) para obtener más información sobre Node-API.

Node-API es una interfaz de C estable de ABI proporcionada por Node.js para crear complementos nativos. Es independiente del entorno de ejecución de JavaScript subyacente (por ejemplo, V8 o ChakraCore) y se mantiene como parte del propio Node.js. Está diseñada para aislar los complementos nativos de los cambios en el motor de JavaScript subyacente y permitir que los módulos compilados para una versión se ejecuten en versiones posteriores de Node.js sin necesidad de recompilarlos.

El módulo `node-addon-api`, que no forma parte de Node.js, conserva las ventajas de Node-API, ya que consta solo de código insertado que depende exclusivamente de la API estable proporcionada por Node-API. Por lo tanto, los módulos compilados en una versión de Node.js mediante node-addon-api deberían ejecutarse sin tener que volver a compilarse con versiones más recientes de Node.js.

Es importante recordar que *otras* interfaces de Node.js, como `libuv` (incluida en un proyecto mediante `#include <uv.h>`) no son estables de ABI en las versiones principales de Node.js. Por lo tanto, un complemento debe usar Node-API y/o `node-addon-api` exclusivamente y compilarse con una versión de Node.js que incluya una implementación de Node-API (es decir, una versión LTS activa de Node.js) para beneficiarse de la estabilidad de ABI en las versiones principales de Node.js. Node.js proporciona una [guía de estabilidad de ABI][] que contiene una explicación detallada de la estabilidad de ABI en general y la garantía de estabilidad de ABI de Node-API en particular.

A medida que se agregan nuevas API a Node-API, node-addon-api debe actualizarse para proporcionar contenedores para esas nuevas API. Por este motivo, node-addon-api proporciona métodos que permiten a los autores de llamadas obtener los controladores de Node-API subyacentes, por lo que las llamadas directas a Node-API y el uso de los objetos o métodos proporcionados por node-addon-api se pueden usar conjuntamente. Por ejemplo, para poder usar una API para la que node-addon-api aún no proporciona un contenedor.

Las API expuestas por node-addon-api se usan generalmente para crear y manipular valores de JavaScript. Los conceptos y operaciones generalmente se asignan a las ideas especificadas en la **Especificación del lenguaje ECMA262**.

El [Recurso Node-API](https://nodejs.github.io/node-addon-examples/)  ofrece una guía excelente y sugerencias para los desarrolladores que acaban de empezar a trabajar con Node-API y node-addon-api.

- **[Configurar](#setup)**
- **[Documentación de la API](#api)**
- **[Ejemplos](#examples)**
- **[Pruebas](#tests)**
- **[Más recursos e información sobre los complementos nativos](#resources)**
- **[Insignias](#badges)**
- **[Código de conducta](CODE_OF_CONDUCT.md)**
- **[Colaboradores](#contributors)**
- **[Licencia](#license)**

## <a name="current-version-321"></a>**Versión actual: 3.2.1**

(Consulte [CHANGELOG.md](CHANGELOG.md) para ver el registro de cambios completo)

[![NPM](https://nodei.co/npm/node-addon-api.png?downloads=true&downloadRank=true)](https://nodei.co/npm/node-addon-api/) [![NPM](https://nodei.co/npm-dl/node-addon-api.png?months=6&height=1)](https://nodei.co/npm/node-addon-api/)

<a name="setup"></a>

node-addon-api se basa en [Node-API](https://nodejs.org/api/n-api.html) y admite el uso de diferentes versiones de Node-API.
Esto permite que los complementos creados con él se ejecuten con las versiones de Node.js que admiten la versión de Node-API de destino.
**Sin embargo**, el modelo de compatibilidad con node-addon-api es admitir solo las versiones LTS activas de Node.js. Esto significa que cada año habrá una nueva versión principal que reduce la compatibilidad con la versión LTS de Node.js que se ha retirado del servicio.

La versión de Node.js más antigua compatible con la versión actual de node-addon-api es Node.js 10.x.

## <a name="setup"></a>Configurar
  - [Instalación y utilización](doc/setup.md)
  - [node-gyp](doc/node-gyp.md)
  - [cmake-js](doc/cmake-js.md)
  - [Herramienta de conversión](doc/conversion-tool.md)
  - [Herramienta de comprobación](doc/checker-tool.md)
  - [Generator](doc/generator.md)
  - [Herramientas precompiladas](doc/prebuild_tools.md)

<a name="api"></a>

### <a name="api-documentation"></a>**Documentación de la API**

A continuación se muestra la documentación de node-addon-api.

 - [Jerarquía de clases completa](doc/hierarchy.md)
 - [Estructura de los complementos](doc/addon.md)
 - Tipos de datos:
    - [Env](doc/env.md)
    - [CallbackInfo](doc/callbackinfo.md)
    - [Referencia](doc/reference.md)
    - [Valor](doc/value.md)
        - [Nombre](doc/name.md)
            - [Símbolo](doc/symbol.md)
            - [String](doc/string.md)
        - [Number](doc/number.md)
        - [Date](doc/date.md)
        - [BigInt](doc/bigint.md)
        - [Boolean](doc/boolean.md)
        - [Externo](doc/external.md)
        - [Object](doc/object.md)
            - [Array](doc/array.md)
            - [ObjectReference](doc/object_reference.md)
    - [PropertyDescriptor](doc/property_descriptor.md)
    - [Function](doc/function.md)
        - [FunctionReference](doc/function_reference.md)
    - [ObjectWrap](doc/object_wrap.md)
        - [ClassPropertyDescriptor](doc/class_property_descriptor.md)
    - [Buffer](doc/buffer.md)
    - [ArrayBuffer](doc/array_buffer.md)
    - [TypedArray](doc/typed_array.md)
      - [TypedArrayOf](doc/typed_array_of.md)
    - [DataView](doc/dataview.md)
 - [Tratamiento de errores](doc/error_handling.md)
    - [Error](doc/error.md)
      - [TypeError](doc/type_error.md)
      - [RangeError](doc/range_error.md)
 - [Administración de vigencia de objeto](doc/object_lifetime_management.md)
    - [HandleScope](doc/handle_scope.md)
    - [EscapableHandleScope](doc/escapable_handle_scope.md)
 - [Administración de memoria](doc/memory_management.md)
 - [Operaciones asincrónicas](doc/async_operations.md)
    - [AsyncWorker](doc/async_worker.md)
    - [AsyncContext](doc/async_context.md)
    - [AsyncWorker Variants](doc/async_worker_variants.md)
 - [Funciones seguras para subprocesos](doc/threadsafe.md)
    - [ThreadSafeFunction](doc/threadsafe_function.md)
    - [TypedThreadSafeFunction](doc/typed_threadsafe_function.md)
 - [Promesas](doc/promises.md)
 - [Administración de versiones](doc/version_management.md)

<a name="examples"></a>

### <a name="examples"></a>**Ejemplos**

¿No está familiarizado con **node-addon-api**? Eche un vistazo a nuestros **[ejemplos](https://github.com/nodejs/node-addon-examples)**

- **[Hola mundo](https://github.com/nodejs/node-addon-examples/tree/HEAD/1_hello_world/node-addon-api)**
- **[Pasar argumentos a una función](https://github.com/nodejs/node-addon-examples/tree/HEAD/2_function_arguments/node-addon-api)**
- **[Devoluciones de llamada](https://github.com/nodejs/node-addon-examples/tree/HEAD/3_callbacks/node-addon-api)**
- **[Generador de objetos](https://github.com/nodejs/node-addon-examples/tree/HEAD/4_object_factory/node-addon-api)**
- **[Generador de funciones](https://github.com/nodejs/node-addon-examples/tree/HEAD/5_function_factory/node-addon-api)**
- **[Ajuste de objetos de C++](https://github.com/nodejs/node-addon-examples/tree/HEAD/6_object_wrap/node-addon-api)**
- **[Generador de objetos encapsulados](https://github.com/nodejs/node-addon-examples/tree/HEAD/7_factory_wrap/node-addon-api)**
- **[Pasar el objeto encapsulado](https://github.com/nodejs/node-addon-examples/tree/HEAD/8_passing_wrapped/node-addon-api)**

<a name="tests"></a>

### <a name="tests"></a>**Pruebas**

Para ejecutar las pruebas de **node-addon-api**, haga lo siguiente:

```
npm install
npm test
```

Para evitar realizar pruebas en las partes en desuso de la ejecución de la API
```
npm install
npm test --disable-deprecated
```

Para ejecutar las pruebas estableciendo como destino una versión concreta de la ejecución de Node-API
```
npm install
export NAPI_VERSION=X
npm test --NAPI_VERSION=X
```

donde X es la versión de Node-API de destino.

### <a name="debug"></a>**Depurar**

Para ejecutar las pruebas de **node-addon-api** con la opción `--debug`:

```
npm run-script dev
```

Si quiere una compilación más rápida, puede usar la siguiente opción:

```
npm run-script dev:incremental
```

Eche un vistazo e inspírese con nuestro **[conjunto de pruebas](https://github.com/nodejs/node-addon-api/tree/HEAD/test)** .

### <a name="benchmarks"></a>**Pruebas comparativas**

Puede ejecutar las pruebas comparativas disponibles mediante el siguiente comando:

```
npm run-script benchmark
```

Consulte [benchmark/README.md](benchmark/README.md) para obtener más detalles sobre cómo ejecutar y agregar pruebas comparativas.

<a name="resources"></a>

### <a name="more-resource-and-info-about-native-addons"></a>**Más recursos e información sobre los complementos nativos**
- **[Complementos de C++](https://nodejs.org/dist/latest/docs/api/addons.html)**
- **[Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html)**
- **[Node-API: API de Node de última generación para módulos nativos](https://youtu.be/-Oniup60Afs)**
- **[Cómo hemos migrado JavaScript del dominio kerberos de NAN a Node-API](https://developer.mongodb.com/article/realm-javascript-nan-to-n-api)**

Dado que la misión principal de node-addon-api es exponer la versión sin formato de Node-API de C como contenedores de C++, las herramientas que facilitan n-api/node-addon-api y proporcionan patrones más cómodos para desarrollar complementos de Node.js con n-api/node-addon-api se pueden publicar en NPM como paquetes independientes. También se recomienda etiquetar estos paquetes con `node-addon-api` para proporcionar más visibilidad a la comunidad.

Vínculos rápidos a búsquedas de NPM: [keywords:node-addon-api](https://www.npmjs.com/search?q=keywords%3Anode-addon-api).

<a name="other-bindings"></a>

### <a name="other-bindings"></a>**Otros enlaces**

- **[napi-rs](https://napi.rs)** - (`Rust`)

<a name="badges"></a>

### <a name="badges"></a>**Insignias**

Se recomienda usar distintivos para indicar la versión mínima de Node-API necesaria para el módulo. Esto ayuda a determinar qué versiones principales de Node.js se admiten. Los mantenedores de complementos pueden consultar la [matriz de compatibilidad de Node-API][] para determinar qué versiones de Node.js proporcionan una versión determinada de Node-API. Hay disponibles los siguientes distintivos:

![Distintivo de Node-API v1](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v1%20Badge.svg)
![Distintivo de Node-API v2](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v2%20Badge.svg)
![Distintivo de Node-API v3](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v3%20Badge.svg)
![Distintivo de Node-API v4](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v4%20Badge.svg)
![Distintivo de Node-API v5](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v5%20Badge.svg)
![Distintivo de Node-API v6](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v6%20Badge.svg)
![Distintivo de Node-API v7](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v7%20Badge.svg)
![Distintivo de Node-API v8](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v8%20Badge.svg)
![Distintivo de versión experimental de Node-API](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20Experimental%20Version%20Badge.svg)

## <a name="contributing"></a>**Contribuir**

Nos encantan las contribuciones de la comunidad a **node-addon-api**.
Consulte [CONTRIBUTING.md](CONTRIBUTING.md) para obtener más detalles sobre nuestra filosofía con respecto a la extensión de este módulo.

<a name="contributors"></a>

## <a name="team-members"></a>Miembros del equipo

### <a name="active"></a>Activo
| Nombre                | Vínculo de GitHub                                           |
| ------------------- | ----------------------------------------------------- |
| Anna Henningsen     | [addaleax](https://github.com/addaleax)               |
| Chengzhong Wu       | [legendecas](https://github.com/legendecas)           |
| Gabriel Schulhof    | [gabrielschulhof](https://github.com/gabrielschulhof) |
| Jim Schlight        | [jschlight](https://github.com/jschlight)             |
| Michael Dawson      | [mhdawson](https://github.com/mhdawson)               |
| Kevin Eady          | [KevinEady](https://github.com/KevinEady)
| Nicola Del Gobbo    | [NickNaso](https://github.com/NickNaso)               |

### <a name="emeritus"></a>Emeritus
| Nombre                | Vínculo de GitHub                                           |
| ------------------- | ----------------------------------------------------- |
| Arunesh Chandra     | [aruneshchandra](https://github.com/aruneshchandra)   |
| Benjamin Byholm     | [kkoopa](https://github.com/kkoopa)                   |
| Jason Ginchereau    | [jasongin](https://github.com/jasongin)               |
| Hitesh Kanwathirtha | [digitalinfinity](https://github.com/digitalinfinity) |
| Sampson Gao         | [sampsongao](https://github.com/sampsongao)           |
| Taylor Woll         | [boingoing](https://github.com/boingoing)             |

<a name="license"></a>

Con licencia [MIT](./LICENSE.md)

[Guía de estabilidad de ABI]: https://nodejs.org/en/docs/guides/abi-stability/
[Matriz de compatibilidad de Node-API]: https://nodejs.org/dist/latest/docs/api/n-api.html#n_api_n_api_version_matrix
