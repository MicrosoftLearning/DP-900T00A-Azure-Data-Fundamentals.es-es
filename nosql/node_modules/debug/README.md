---
ms.openlocfilehash: 0dad0f9e52c6ad7304b11c25c495ab90d49a7d98
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052798"
---
# <a name="debug"></a>debug
[![Estado de la compilación](https://travis-ci.org/visionmedia/debug.svg?branch=master)](https://travis-ci.org/visionmedia/debug)  [![Estado de cobertura](https://coveralls.io/repos/github/visionmedia/debug/badge.svg?branch=master)](https://coveralls.io/github/visionmedia/debug?branch=master)  [![Pila](https://visionmedia-community-slackin.now.sh/badge.svg)](https://visionmedia-community-slackin.now.sh/) [![OpenCollective](https://opencollective.com/debug/backers/badge.svg)](#backers)
[![OpenCollective](https://opencollective.com/debug/sponsors/badge.svg)](#sponsors)

<img width="647" src="https://user-images.githubusercontent.com/71256/29091486-fa38524c-7c37-11e7-895f-e7ec8e1039b6.png">

Una pequeña utilidad de depuración de JavaScript modelada a partir de la técnica de depuración básica de Node.js. Funciona en exploradores web y Node.js.

## <a name="installation"></a>Instalación

```bash
$ npm install debug
```

## <a name="usage"></a>Uso

`debug` expone una función; simplemente pase el nombre del módulo por esta función y devolverá una versión decorada de `console.error` a la que podrá pasar instrucciones de depuración. Esto le permitirá alternar la salida de depuración para diferentes partes del módulo, así como el módulo en su conjunto.

Ejemplo de [_app.js_](./examples/node/app.js):

```js
var debug = require('debug')('http')
  , http = require('http')
  , name = 'My App';

// fake app

debug('booting %o', name);

http.createServer(function(req, res){
  debug(req.method + ' ' + req.url);
  res.end('hello\n');
}).listen(3000, function(){
  debug('listening');
});

// fake worker of some kind

require('./worker');
```

Ejemplo de [_worker.js_](./examples/node/worker.js):

```js
var a = require('debug')('worker:a')
  , b = require('debug')('worker:b');

function work() {
  a('doing lots of uninteresting work');
  setTimeout(work, Math.random() * 1000);
}

work();

function workb() {
  b('doing some work');
  setTimeout(workb, Math.random() * 2000);
}

workb();
```

A continuación, la variable de entorno `DEBUG` se usa para habilitarlas en función del espacio o los nombres delimitados por comas.

Estos son algunos ejemplos:

<img width="647" alt="screen shot 2017-08-08 at 12 53 04 pm" src="https://user-images.githubusercontent.com/71256/29091703-a6302cdc-7c38-11e7-8304-7c0b3bc600cd.png">
<img width="647" alt="screen shot 2017-08-08 at 12 53 38 pm" src="https://user-images.githubusercontent.com/71256/29091700-a62a6888-7c38-11e7-800b-db911291ca2b.png">
<img width="647" alt="screen shot 2017-08-08 at 12 53 25 pm" src="https://user-images.githubusercontent.com/71256/29091701-a62ea114-7c38-11e7-826a-2692bedca740.png">

#### <a name="windows-command-prompt-notes"></a>Notas del símbolo del sistema de Windows

##### <a name="cmd"></a>CMD

En Windows, la variable de entorno se establece mediante el comando `set`.

```cmd
set DEBUG=*,-not_this
```

Ejemplo:

```cmd
set DEBUG=* & node app.js
```

##### <a name="powershell-vs-code-default"></a>PowerShell (valor predeterminado de VS Code)

PowerShell usa una sintaxis diferente para establecer variables de entorno.

```cmd
$env:DEBUG = "*,-not_this"
```

Ejemplo:

```cmd
$env:DEBUG='app';node app.js
```

A continuación, ejecute el programa que se depurará como de costumbre.

Ejemplo de script de npm:
```js
  "windowsDebug": "@powershell -Command $env:DEBUG='*';node app.js",
```

## <a name="namespace-colors"></a>Colores del espacio de nombres

Cada instancia de depuración tiene un color que se genera en función de su nombre en el espacio de nombres.
Esto ayuda a analizar visualmente la salida de depuración para identificar a qué instancia de depuración pertenece una línea de depuración.

#### <a name="nodejs"></a>Node.js

En Node.js, los colores se habilitan cuando stderr es un TTY. También _debe_ instalar el módulo [`supports-color`](https://npmjs.org/supports-color) junto con la depuración; de lo contrario, la depuración solo usará una pequeña cantidad de colores básicos.

<img width="521" src="https://user-images.githubusercontent.com/71256/29092181-47f6a9e6-7c3a-11e7-9a14-1928d8a711cd.png">

#### <a name="web-browser"></a>Explorador web

Los colores también están habilitados en "Inspectores web" que comprenden la opción de formato `%c`. Se trata de inspectores web de WebKit, Firefox ([desde la versión 31](https://hacks.mozilla.org/2014/05/editable-box-model-multiple-selection-sublime-text-keys-much-more-firefox-developer-tools-episode-31/)) y el complemento Firebug para Firefox (cualquier versión).

<img width="524" src="https://user-images.githubusercontent.com/71256/29092033-b65f9f2e-7c39-11e7-8e32-f6f0d8e865c1.png">


## <a name="millisecond-diff"></a>Diferencia de milisegundos

Al desarrollar activamente una aplicación, puede ser útil ver el tiempo que se dedica entre una llamada `debug()` y la siguiente. Supongamos, por ejemplo, que invoca `debug()` antes de solicitar un recurso y también después; "+NNNms" le mostrará cuánto tiempo ha pasado entre las llamadas.

<img width="647" src="https://user-images.githubusercontent.com/71256/29091486-fa38524c-7c37-11e7-895f-e7ec8e1039b6.png">

Cuando stdout no es un TTY, se usa `Date#toISOString()`, lo que resulta más útil para registrar la información de depuración, como se muestra a continuación:

<img width="647" src="https://user-images.githubusercontent.com/71256/29091956-6bd78372-7c39-11e7-8c55-c948396d6edd.png">


## <a name="conventions"></a>Convenciones

Si lo usa en una o varias de las bibliotecas, _debe_ usar el nombre de la biblioteca para que los desarrolladores puedan alternar la depuración según sea necesario sin tener que adivinar nombres. Si tiene más de un depurador, _debe_ agregarles como prefijo el nombre de la biblioteca y usar ":" para separar las características. Por ejemplo, "bodyParser" de Connect sería "connect:bodyParser".  Si anexa "*" al final del nombre, siempre estará habilitado independientemente de la configuración de la variable de entorno DEBUG.  Así, podrá usarlo para la salida normal, así como para la salida de depuración.

## <a name="wildcards"></a>Caracteres comodín

El carácter `*` se puede usar como carácter comodín. Supongamos, por ejemplo, que la biblioteca tiene depuradores denominados "connect:bodyParser", "connect:compress" y "connect:session"; en lugar de enumerar los tres con `DEBUG=connect:bodyParser,connect:compress,connect:session`, puede simplemente hacer `DEBUG=connect:*` o bien, para ejecutar todo con este módulo, simplemente usar `DEBUG=*`.

Asimismo, puede excluir depuradores concretos agregándoles como prefijo un carácter "-".
Por ejemplo, `DEBUG=*,-connect:*` incluiría todos los depuradores excepto los que empiezan por "connect:".

## <a name="environment-variables"></a>Variables de entorno

Al ejecutar a través de Node.js, puede establecer algunas variables de entorno que cambiarán el comportamiento del registro de depuración:

| Nombre      | Propósito                                         |
|-----------|-------------------------------------------------|
| `DEBUG`   | Habilita o deshabilita espacios de nombres de depuración concretos. |
| `DEBUG_HIDE_DATE` | Oculte la fecha de la salida de depuración (no TTY).  |
| `DEBUG_COLORS`| Indica si se van a usar colores en la salida de depuración. |
| `DEBUG_DEPTH` | Profundidad de inspección de objetos.                    |
| `DEBUG_SHOW_HIDDEN` | Muestra propiedades ocultas en los objetos inspeccionados. |


__Nota:__ Las variables de entorno que comienzan por `DEBUG_`, terminan convirtiéndose en un objeto Options que se usa con los formateadores `%o`/`%O`.
Consulte la documentación de Node.js para [`util.inspect()`](https://nodejs.org/api/util.html#util_util_inspect_object_options)
para ver la lista completa.

## <a name="formatters"></a>Formateadores

La depuración usa el formato [printf-style](https://wikipedia.org/wiki/Printf_format_string).
A continuación se muestran los formateadores admitidos oficialmente:

| Formateador | Representación |
|-----------|----------------|
| `%O`      | Se imprime con sangría un objeto en varias líneas. |
| `%o`      | Se imprime con sangría un objeto entero en una sola línea. |
| `%s`      | String. |
| `%d`      | Number (entero y float). |
| `%j`      | JSON Se reemplaza por la cadena '[Circular]' si el argumento contiene referencias circulares. |
| `%%`      | Signo de porcentaje único ('%'). No consume un argumento. |


### <a name="custom-formatters"></a>Formateadores personalizados

Para agregar formateadores personalizados, extienda el objeto `debug.formatters`.
Por ejemplo, si desea agregar compatibilidad para representar un búfer como hexadecimal con `%h`, podría hacer algo como lo siguiente:

```js
const createDebug = require('debug')
createDebug.formatters.h = (v) => {
  return v.toString('hex')
}

// …elsewhere
const debug = createDebug('foo')
debug('this is hex: %h', new Buffer('hello world'))
//   foo this is hex: 68656c6c6f20776f726c6421 +0ms
```


## <a name="browser-support"></a>Compatibilidad con exploradores

Puede crear un script listo para el explorador mediante [browserify](https://github.com/substack/node-browserify) o simplemente usar la [compilación](https://wzrd.in/)[browserify-as-a-service](https://wzrd.in/standalone/debug@latest), si no quiere compilarlo usted mismo.

El estado de habilitación de la depuración se conserva actualmente mediante `localStorage`.
Tenga en cuenta la situación que se muestra a continuación, en la que tiene `worker:a` y `worker:b`, y desea depurar ambos. Puede habilitarlo mediante `localStorage.debug`:

```js
localStorage.debug = 'worker:*'
```

Y, a continuación, actualizar la página.

```js
a = debug('worker:a');
b = debug('worker:b');

setInterval(function(){
  a('doing some work');
}, 1000);

setInterval(function(){
  b('doing some work');
}, 1200);
```


## <a name="output-streams"></a>Flujos de salida

  De manera predeterminada, `debug` se registrará en stderr; sin embargo, esto se puede configurar por espacio de nombres invalidando el método `log`:

Ejemplo de [_stdout.js_](./examples/node/stdout.js):

```js
var debug = require('debug');
var error = debug('app:error');

// by default stderr is used
error('goes to stderr!');

var log = debug('app:log');
// set this namespace to log via console.log
log.log = console.log.bind(console); // don't forget to bind to console!
log('goes to stdout');
error('still goes to stderr!');

// set all output to go via console.info
// overrides all per-namespace log settings
debug.log = console.info.bind(console);
error('now goes to stdout via console.info');
log('still goes to stdout, but via console.info now');
```

## <a name="extend"></a>Extensión
Simplemente puede ampliar el depurador. 
```js
const log = require('debug')('auth');

//creates new debug instance with extended namespace
const logSign = log.extend('sign');
const logLogin = log.extend('login');

log('hello'); // auth hello
logSign('hello'); //auth:sign hello
logLogin('hello'); //auth:login hello
```

## <a name="set-dynamically"></a>Establecimiento dinámico

También puede habilitar la depuración dinámicamente llamando al método `enable()`:

```js
let debug = require('debug');

console.log(1, debug.enabled('test'));

debug.enable('test');
console.log(2, debug.enabled('test'));

debug.disable();
console.log(3, debug.enabled('test'));

```

Impresión:   
```
1 false
2 true
3 false
```

Uso :  
`enable(namespaces)`  
`namespaces` puede incluir modos separados por dos puntos y caracteres comodín.
   
Tenga en cuenta que la llamada a `enable()` invalida completamente la variable DEBUG establecida anteriormente: 

```
$ DEBUG=foo node -e 'var dbg = require("debug"); dbg.enable("bar"); console.log(dbg.enabled("foo"))'
=> false
```

`disable()`

Deshabilitará todos los espacios de nombres. Las funciones devuelven los espacios de nombres habilitados (y omitidos) actualmente. Esto puede ser útil si desea deshabilitar la depuración temporalmente y no sabe qué se ha habilitado.

Por ejemplo:

```js
let debug = require('debug');
debug.enable('foo:*,-foo:bar');
let namespaces = debug.disable();
debug.enable(namespaces);
```

Nota: No hay ninguna garantía de que la cadena sea idéntica a la cadena de habilitación inicial, pero semánticamente será idéntica.

## <a name="checking-whether-a-debug-target-is-enabled"></a>Comprobación de si un destino de depuración está habilitado

Después de crear una instancia de depuración, puede determinar si está habilitada o no comprobando la propiedad `enabled`:

```javascript
const debug = require('debug')('http');

if (debug.enabled) {
  // do stuff...
}
```

También puede alternar manualmente esta propiedad para forzar que la instancia de depuración se habilite o se deshabilite.


## <a name="authors"></a>Authors

 - TJ Holowaychuk
 - Nathan Rajlich
 - Andrew Rhyne

## <a name="backers"></a>Patrocinadores

Ayúdenos con una donación mensual para continuar con nuestras actividades. [[Convertirse en un patrocinador](https://opencollective.com/debug#backer)]

<a href="https://opencollective.com/debug/backer/0/website" target="_blank"><img src="https://opencollective.com/debug/backer/0/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/1/website" target="_blank"><img src="https://opencollective.com/debug/backer/1/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/2/website" target="_blank"><img src="https://opencollective.com/debug/backer/2/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/3/website" target="_blank"><img src="https://opencollective.com/debug/backer/3/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/4/website" target="_blank"><img src="https://opencollective.com/debug/backer/4/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/5/website" target="_blank"><img src="https://opencollective.com/debug/backer/5/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/6/website" target="_blank"><img src="https://opencollective.com/debug/backer/6/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/7/website" target="_blank"><img src="https://opencollective.com/debug/backer/7/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/8/website" target="_blank"><img src="https://opencollective.com/debug/backer/8/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/9/website" target="_blank"><img src="https://opencollective.com/debug/backer/9/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/10/website" target="_blank"><img src="https://opencollective.com/debug/backer/10/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/11/website" target="_blank"><img src="https://opencollective.com/debug/backer/11/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/12/website" target="_blank"><img src="https://opencollective.com/debug/backer/12/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/13/website" target="_blank"><img src="https://opencollective.com/debug/backer/13/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/14/website" target="_blank"><img src="https://opencollective.com/debug/backer/14/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/15/website" target="_blank"><img src="https://opencollective.com/debug/backer/15/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/16/website" target="_blank"><img src="https://opencollective.com/debug/backer/16/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/17/website" target="_blank"><img src="https://opencollective.com/debug/backer/17/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/18/website" target="_blank"><img src="https://opencollective.com/debug/backer/18/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/19/website" target="_blank"><img src="https://opencollective.com/debug/backer/19/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/20/website" target="_blank"><img src="https://opencollective.com/debug/backer/20/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/21/website" target="_blank"><img src="https://opencollective.com/debug/backer/21/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/22/website" target="_blank"><img src="https://opencollective.com/debug/backer/22/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/23/website" target="_blank"><img src="https://opencollective.com/debug/backer/23/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/24/website" target="_blank"><img src="https://opencollective.com/debug/backer/24/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/25/website" target="_blank"><img src="https://opencollective.com/debug/backer/25/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/26/website" target="_blank"><img src="https://opencollective.com/debug/backer/26/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/27/website" target="_blank"><img src="https://opencollective.com/debug/backer/27/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/28/website" target="_blank"><img src="https://opencollective.com/debug/backer/28/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/29/website" target="_blank"><img src="https://opencollective.com/debug/backer/29/avatar.svg"></a>


## <a name="sponsors"></a>Patrocinadores

Conviértase en un patrocinador y haga que su logotipo se muestre en nuestro ARCHIVO LÉAME de Github con un vínculo a su sitio. [[Convertirse en patrocinador](https://opencollective.com/debug#sponsor)]

<a href="https://opencollective.com/debug/sponsor/0/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/0/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/1/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/1/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/2/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/2/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/3/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/3/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/4/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/4/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/5/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/5/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/6/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/6/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/7/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/7/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/8/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/8/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/9/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/9/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/10/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/10/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/11/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/11/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/12/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/12/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/13/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/13/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/14/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/14/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/15/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/15/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/16/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/16/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/17/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/17/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/18/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/18/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/19/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/19/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/20/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/20/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/21/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/21/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/22/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/22/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/23/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/23/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/24/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/24/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/25/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/25/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/26/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/26/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/27/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/27/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/28/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/28/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/29/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/29/avatar.svg"></a>

## <a name="license"></a>Licencia

(La licencia MIT)

Copyright (c) 2014-2017 TJ Holowaychuk &lt;tj@vision-media.ca&gt;

Se concede permiso libre de cargos a cualquier persona que obtenga una copia de este software y de los archivos de documentación asociados (el "software") para utilizar el software sin restricciones, lo que incluye, a título enunciativo y no limitativo, derechos para usar, copiar, modificar, combinar, publicar, distribuir, sublicenciar o vender copias del software, así como permitir hacerlo a las personas a las que se proporcione el software, siempre que se cumplan las siguientes condiciones:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

EL SOFTWARE SE PROPORCIONA "TAL CUAL", SIN NINGÚN TIPO DE GARANTÍA EXPLÍCITA O IMPLÍCITA INCLUIDAS, SIN LIMITACIÓN, LAS GARANTÍAS DE COMERCIABILIDAD, IDONEIDAD PARA UN DETERMINADO FIN Y AUSENCIA DE INFRACCIÓN.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
