
---
<p align="center">
  <strong>
    <a href="https://open-telemetry.github.io/opentelemetry-js-api">Documentación de API<a/> &nbsp;&nbsp;&bull;&nbsp;&nbsp; <a href="https://github.com/open-telemetry/opentelemetry-js/discussions">Estar en contacto (Debates de GitHub)<a/>
  </strong>
</p>

<p align="center">
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/releases">
    <img alt="GitHub release (latest by date including pre-releases)" src="https://img.shields.io/github/v/release/open-telemetry/opentelemetry-js-api?include_prereleases&style=for-the-badge">
  </a>
  <a href="https://codecov.io/gh/open-telemetry/opentelemetry-js-api/branch/main/">
    <img alt="Codecov Status" src="https://img.shields.io/codecov/c/github/open-telemetry/opentelemetry-js-api?style=for-the-badge">
  </a>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/blob/main/LICENSE">
    <img alt="license" src="https://img.shields.io/badge/license-Apache_2.0-green.svg?style=for-the-badge">
  </a>
  <br/>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/docs.yaml">
    <img alt="Build Status" src="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/test.yaml/badge.svg?branch=main">
  </a>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/test.yaml?query=branch%3Amain">
    <img alt="Build Status" src="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/docs.yaml/badge.svg">
  </a>
</p>

---

# <a name="opentelemetry-api-for-javascript"></a>API de OpenTelemetry para JavaScript

[![Versión publicada de NPM][npm-img]][npm-url]
[![dependencias][dependencies-image]][dependencies-url]
[![dependencias de desarrollo][devDependencies-image]][devDependencies-url]

Este paquete proporciona todo lo necesario para interactuar con la API de OpenTelemetry, incluidas todas las interfaces, enumeraciones e implementaciones sin operación de TypeScript. Está diseñado para su uso tanto en el servidor como en el explorador.

Los métodos de este paquete no realizan ninguna operación de manera predeterminada. Esto significa que una biblioteca o una aplicación de usuario final pueden llamarlos de forma segura independientemente de que haya o no un SDK registrado. Para generar y exportar datos de telemetría, también necesitará un SDK como el [SDK de OpenTelemetry JS][opentelemetry-js].

## <a name="tracing-quick-start"></a>Inicio rápido de seguimiento

### <a name="you-will-need"></a>Necesitará lo siguiente

- Una aplicación que quiera instrumentar
- [SDK de OpenTelemetry JS][opentelemetry-js]
- Node.js >=8.5.0 (se prefiere a partir de la versión 14) o un explorador compatible con ECMAScript 5 o versiones posteriores

**Nota:** La compatibilidad con ECMAScript 5+ es solo para este paquete. Consulte la documentación del SDK que usa para determinar su versión mínima de ECMAScript.

**Nota para los autores de bibliotecas:** Solo los usuarios finales necesitarán un SDK de OpenTelemetry. Si quiere admitir OpenTelemetry en la biblioteca, solo tiene que usar la API de OpenTelemetry. Para obtener más información, lea la [documentación de seguimiento][docs-tracing].

### <a name="install-dependencies"></a>Instalación de las dependencias

```sh
npm install @opentelemetry/api @opentelemetry/tracing
```

### <a name="trace-your-application"></a>Seguimiento de la aplicación

Para empezar a realizar el seguimiento, primero deberá registrar un SDK. El SDK que usa puede proporcionar un método práctico que llame a los métodos de registro, pero si quiere llamarlos directamente, se documentan aquí: [métodos de registro del SDK][docs-sdk-registration].

Una vez que haya registrado un SDK, podrá iniciar y finalizar intervalos. A continuación se muestra un ejemplo sencillo de un registro básico del SDK y el seguimiento de una operación sencilla. El ejemplo debe exportar los intervalos a la consola una vez por segundo. Para obtener más información, consulte la [documentación de seguimiento][docs-tracing].

```javascript
const { trace }  = require("@opentelemetry/api");
const { BasicTracerProvider, ConsoleSpanExporter, SimpleSpanProcessor }  = require("@opentelemetry/tracing");

// Create and register an SDK
const provider = new BasicTracerProvider();
provider.addSpanProcessor(new SimpleSpanProcessor(new ConsoleSpanExporter()));
trace.setGlobalTracerProvider(provider);

// Acquire a tracer from the global tracer provider which will be used to trace the application
const name = 'my-application-name';
const version = '0.1.0';
const tracer = trace.getTracer(name, version);

// Trace your application by creating spans
async function operation() {
  const span = tracer.startSpan("do operation");

  // mock some work by sleeping 1 second
  await new Promise((resolve, reject) => {
    setTimeout(resolve, 1000);
  })

  span.end();
}

async function main() {
  while (true) {
    await operation();
  }
}

main();
```

## <a name="version-compatibility"></a>Compatibilidad de versiones

Dado que el instalador de npm y el algoritmo de resolución de módulos de nodo podrían permitir que dos o más copias de cualquier paquete determinado existieran dentro de la misma estructura `node_modules`, la API de OpenTelemetry aprovecha una variable del objeto `global` para almacenar la API global. Cuando se llama a un método de API del paquete de API, este comprueba si esta API `global` existe y los servidores proxy lo llaman solo si es una versión de API compatible. Esto significa que, si un paquete tiene una dependencia de una versión de API de OpenTelemetry que no es compatible con la API que usa el usuario final, el paquete recibirá una implementación sin operación de la API.

## <a name="upgrade-guidelines"></a>Directrices de actualización

### <a name="0210-to-100"></a>0.21.0 a 1.0.0

No hay cambios importantes.

### <a name="0200-to-0210"></a>0.20.0 a 0.21.0

- [N.º 78](https://github.com/open-telemetry/opentelemetry-js-api/issues/78) Argumentos `api.context.bind` invertidos y `context` ahora es un argumento obligatorio.
- [N.º 46](https://github.com/open-telemetry/opentelemetry-js-api/issues/46) Las clases noop y singletons ya no se exportan. Para crear un intervalo de noop, se recomienda usar `api.trace.wrapSpanContext` con `INVALID_SPAN_CONTEXT` en lugar de usar `NOOP_TRACER`.

### <a name="100-rc3-to-0200"></a>1.0.0-rc.3 a 0.20.0

- Se ha quitado `TimedEvent`, que no formaba parte de la especificación.
- Se ha cambiado el nombre de `HttpBaggage` por `HttpBaggagePropagator`.
- [N.º 45](https://github.com/open-telemetry/opentelemetry-js-api/pull/45) Se ha cambiado el nombre de `Span#context` por `Span#spanContext`.
- [N.º 47](https://github.com/open-telemetry/opentelemetry-js-api/pull/47) `getSpan`/`setSpan`/`getSpanContext`/`setSpanContext` se ha trasladado al espacio de nombres `trace`.
- [N.º 55](https://github.com/open-telemetry/opentelemetry-js-api/pull/55) `getBaggage`/`setBaggage`/`createBaggage` se ha trasladado al espacio de nombres `propagation`.

## <a name="useful-links"></a>Vínculos útiles

- Para obtener más información sobre OpenTelemetry, visite: <https://opentelemetry.io/>
- Para obtener más información sobre JavaScript de OpenTelemetry: <https://github.com/open-telemetry/opentelemetry-js>
- Para obtener ayuda o comentarios sobre este proyecto, únase a nosotros en los [Debates de GitHub][discussions-url].

## <a name="license"></a>Licencia

Apache 2.0: consulte [LICENCIA][license-url] para obtener más información.

[opentelemetry-js]: https://github.com/open-telemetry/opentelemetry-js

[discussions-url]: https://github.com/open-telemetry/opentelemetry-js/discussions
[license-url]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/LICENSE
[license-image]: https://img.shields.io/badge/license-Apache_2.0-green.svg?style=flat
[dependencies-image]: https://status.david-dm.org/gh/open-telemetry/opentelemetry-js-api.svg
[dependencies-url]: https://david-dm.org/open-telemetry/opentelemetry-js-api
[devDependencies-image]: https://status.david-dm.org/gh/open-telemetry/opentelemetry-js-api.svg?type=dev
[devDependencies-url]: https://david-dm.org/open-telemetry/opentelemetry-js-api?type=dev
[npm-url]: https://www.npmjs.com/package/@opentelemetry/api
[npm-img]: https://badge.fury.io/js/%40opentelemetry%2Fapi.svg
[docs-tracing]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/docs/tracing.md
[docs-sdk-registration]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/docs/sdk-registration.md
