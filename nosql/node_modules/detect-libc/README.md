---
ms.openlocfilehash: 62ec6880a3e3b2a52d60ca46578b47a88379c266
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052230"
---
# <a name="detect-libc"></a>detect-libc

Módulo Node.js para detectar la familia de implementación de la biblioteca estándar de C (libc) y la versión en uso en un sistema Linux determinado.

Proporciona un valor adecuado para su uso con la opción `LIBC` de [prebuild](https://www.npmjs.com/package/prebuild), [prebuild-ci](https://www.npmjs.com/package/prebuild-ci) y [prebuild-install](https://www.npmjs.com/package/prebuild-install), lo que permite compilar y disponer archivos binarios precompilados para Linux basado en musl, por ejemplo, Alpine, así como basado en glibc.

Actualmente admite la detección libc de `glibc` y `musl`.

## <a name="install"></a>Instalar

```sh
npm install detect-libc
```

## <a name="usage"></a>Uso

### <a name="api"></a>API

```js
const { GLIBC, MUSL, family, version, isNonGlibcLinux } = require('detect-libc');
```

* `GLIBC` es una cadena que contiene el valor "glibc" para la comparación con `family`.
* `MUSL` es una cadena que contiene el valor "must" para la comparación con `family`.
* `family` es una cadena que representa la familia libc del sistema.
* `version` es una cadena que representa la el número de versión libc del sistema.
* `isNonGlibcLinux` es un valor booleano que representa si el sistema es un Linux que no es glibc, por ejemplo, Alpine.

### <a name="detect-libc-command-line-tool"></a>herramienta de línea de comandos detect-libc

Cuando se ejecuta en un sistema Linux con un libc que no es glibc, el comando secundario se ejecutará con la variable de entorno `LIBC` establecida en el valor correspondiente.

En todas las demás plataformas, ejecutará el comando secundario tal cual.

La característica de línea de comandos requiere `spawnSync` proporcionado por Node v0.12+.

```sh
detect-libc child-command
```

## <a name="integrating-with-prebuild"></a>Integración con precompilación

```json
  "scripts": {
    "install": "detect-libc prebuild-install || node-gyp rebuild",
    "test": "mocha && detect-libc prebuild-ci"
  },
  "dependencies": {
    "detect-libc": "^1.0.2",
    "prebuild-install": "^2.2.0"
  },
  "devDependencies": {
    "prebuild": "^6.2.1",
    "prebuild-ci": "^2.2.3"
  }
```

## <a name="licence"></a>Licencia

Copyright 2017 Lovell Fuller

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
You may obtain a copy of the License at [http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0.html)

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
