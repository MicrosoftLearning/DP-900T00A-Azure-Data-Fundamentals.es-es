---
ms.openlocfilehash: dbdfc2a4dc0e16d7d5a1aad58534b48d3a0c2351
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138053052"
---
<a name="semaphorejs"></a>semaphore.js
============

[![Estado de compilación](https://travis-ci.org/abrkn/semaphore.js.svg?branch=master)](https://travis-ci.org/abrkn/semaphore.js)

Instalación: instalación de npm en semáforo

Limite el acceso simultáneo a un recurso.

```javascript
// Create
var sem = require('semaphore')(capacity);

// Take
sem.take(fn[, n=1])
sem.take(n, fn)

// Leave
sem.leave([n])

// Available
sem.available([n])
```


```javascript
// Limit concurrent db access
var sem = require('semaphore')(1);
var server = require('http').createServer(req, res) {
    sem.take(function() {
        expensive_database_operation(function(err, res) {
            sem.leave();

            if (err) return res.end("Error");

            return res.end(res);
        });
    });
});
```

```javascript
// 2 clients at a time
var sem = require('semaphore')(2);
var server = require('http').createServer(req, res) {
    res.write("Then good day, madam!");

    sem.take(function() {
        res.end("We hope to see you soon for tea.");
        sem.leave();
    });
});
```

```javascript
// Rate limit
var sem = require('semaphore')(10);
var server = require('http').createServer(req, res) {
    sem.take(function() {
        res.end(".");
        
        setTimeout(sem.leave, 500)
    });
});
```

<a name="license"></a>Licencia
===

MIT
