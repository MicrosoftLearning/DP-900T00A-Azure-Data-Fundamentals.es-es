---
ms.openlocfilehash: ca2cf748b426d17058b55202a60ece01d9e05592
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052413"
---
# <a name="node-abort-controller"></a>node-abort-controller

AbortController Polyfill para Node.JS basado en EventEmitter

[![Estado de compilación](https://dev.azure.com/stfaul/node-abort-controller/_apis/build/status/southpolesteve.node-abort-controller?branchName=master)](https://dev.azure.com/stfaul/node-abort-controller/_build/latest?definitionId=3&branchName=master)

## <a name="usage"></a>Uso

```js
import fetch from 'node-fetch'
import AbortController from 'node-abort-controller'

const controller = new AbortController()
const signal = controller.signal

await fetch('https:/www.google.com', { signal })

// Abort after 500ms. Effectively a timeout
setTimeout(() => controller.abort(), 500)
```

## <a name="why-would-i-use-this"></a>¿Para qué lo usaría?

¡Es posible que no tenga que hacerlo! Por lo general, hay tres entornos en los que se puede ejecutar el código JavaScript:

- Nodo
- Exploradores modernos (no Internet Explorer)
- Exploradores heredados (principalmente Internet Explorer)

En el caso de las API de JS modernas, cada entorno obtendría idealmente un polyfill:

- solo si necesita uno
- específico de la plataforma.

En la práctica, esto es difícil. Las herramientas como webpack y browserify son excelentes para asegurarse de que las cosas funcionan de serie en todos los entornos. Sin embargo, es bastante fácil fallar en los puntos anteriores. Con toda probabilidad, se terminan enviando menos polyfill de los ideales en plataformas que ni siquiera los necesitan. ¿Qué es lo que debe hacer un desarrollador? En el caso de `fetch` y `AbortController` he hecho el trabajo por usted. Esta es una guía para ello.

Si está compilando una ...

#### <a name="application-running-in-modern-browsers"></a>Aplicación que se ejecuta en exploradores modernos:

¡Enhorabuena! ¡No necesita una biblioteca ni un polyfill en absoluto! Cierre esta pestaña. Desinstale este paquete.

#### <a name="application-running-in-modern-browsers-and-node-such-as-a-server-side-rendered-js-app"></a>Aplicación que se ejecuta en exploradores modernos Y un nodo (por ejemplo, una aplicación JS representada del lado servidor):

Use _este paquete_ y [node-fetch](https://www.npmjs.com/package/node-fetch). Es lo mínimo que necesita.

#### <a name="application-supporting-legacy-browsers-and-not-node"></a>Aplicación que admite exploradores heredados Y NO un nodo:

Use [abort-controller](https://www.npmjs.com/package/abort-controller) y [whatwg-fetch](https://www.npmjs.com/package/whatwg-fetch). Estos son polyfills más completos que funcionarán en todos los entornos del explorador.

#### <a name="application-supporting-legacy-browsers-and-node"></a>Aplicación que admite exploradores heredados Y un nodo:

Use [abort-controller](https://www.npmjs.com/package/abort-controller) y [cross-fetch](https://www.npmjs.com/package/cross-fetch). Del mismo modo que antes, salvo que la recuperación cruzada realizará el polyfill correctamente en el explorador y node.js

#### <a name="library-being-consumed-by-other-applications-and-using-fetch-internally"></a>Otras aplicaciones consumen la biblioteca, que utiliza `fetch` internamente:

Use _este paquete_ y [node-fetch](https://www.npmjs.com/package/node-fetch). Es la combinación más pequeña y menos fundamentada para los usuarios finales. Los desarrolladores de aplicaciones destinados a Internet Explorer tendrán que realizar el polyfill `AbortController` y `fetch` por sí mismos. Sin embargo, la biblioteca no forzará la realización de polyfill no necesarios en desarrolladores que solo tienen como destino exploradores modernos.

## <a name="goals"></a>Objetivos

Teniendo en cuenta la guía anterior, esta biblioteca tiene un conjunto de objetivos muy específico:

1. Proporcionar un polyfill mínimo en node.js
2. No proporcionar un polyfill en cualquier entorno del explorador

Esto es lo ideal para _los autores de bibliotecas_ que usan `fetch` y `AbortController` internamente y tienen como destino _y_ desarrolladores de exploradores y nodos.

## <a name="prior-art"></a>Arte anterior

Gracias, @mysticatea por https://github.com/mysticatea/abort-controller. Es un polyfill `AbortController` fantástico, ideal para muchos casos de uso.
