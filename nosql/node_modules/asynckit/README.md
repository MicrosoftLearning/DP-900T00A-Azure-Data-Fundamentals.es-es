---
ms.openlocfilehash: 030a12b4b2a9151538e9491d3a4f23dfe9848f32
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052358"
---
# <a name="asynckit-npm-modulehttpswwwnpmjscompackageasynckit"></a>[![módulo NPM](https://img.shields.io/npm/v/asynckit.svg?style=flat)](https://www.npmjs.com/package/asynckit) de asynckit

Biblioteca mínima de utilidades de trabajos asincrónicos, con compatibilidad con secuencias.

[![PhantomJS Build](https://img.shields.io/travis/alexindigo/asynckit/v0.4.0.svg?label=browser&style=flat)](https://travis-ci.org/alexindigo/asynckit)
[![Linux Build](https://img.shields.io/travis/alexindigo/asynckit/v0.4.0.svg?label=linux:0.12-6.x&style=flat)](https://travis-ci.org/alexindigo/asynckit)
[![Windows Build](https://img.shields.io/appveyor/ci/alexindigo/asynckit/v0.4.0.svg?label=windows:0.12-6.x&style=flat)](https://ci.appveyor.com/project/alexindigo/asynckit)

[![Estado de cobertura](https://img.shields.io/coveralls/alexindigo/asynckit/v0.4.0.svg?label=code+coverage&style=flat)](https://coveralls.io/github/alexindigo/asynckit?branch=master)
[![Estado de dependencia](https://img.shields.io/david/alexindigo/asynckit/v0.4.0.svg?style=flat)](https://david-dm.org/alexindigo/asynckit)
[![Puntuación general bitHound](https://www.bithound.io/github/alexindigo/asynckit/badges/score.svg)](https://www.bithound.io/github/alexindigo/asynckit)

<!-- [![Readme](https://img.shields.io/badge/readme-tested-brightgreen.svg?style=flat)](https://www.npmjs.com/package/reamde) -->

AsyncKit proporciona un agente para los iteradores `parallel`y `serial` en la lista de elementos representados por matrices u objetos.
Opcionalmente, acepta la función de anular (debe devolverse sincrónicamente por el iterador para cada elemento) y finaliza los trabajos restantes en un evento de error. Para el orden de iteración específico integrado (`ascending` y `descending`) y el orden personalizado, los asistentes también se admiten a través del método `asynckit.serialOrdered`.

Garantiza que las operaciones asincrónicas mantengan el comportamiento más estable y eviten errores`Maximum call stack size exceeded` por parte de iteradores de sincronización.

| compression        |     size |
| :----------------- | -------: |
| asynckit.js        | 12,34 KB |
| asynckit.min.js    |  4,11 KB |
| asynckit.min.js.gz |  1,47 KB |


## <a name="install"></a>Instalar

```sh
$ npm install --save asynckit
```

## <a name="examples"></a>Ejemplos

### <a name="parallel-jobs"></a>Trabajos paralelos

Ejecuta el iterador sobre la matriz proporcionada en paralelo. Almacena la salida en la matriz `result`, en las posiciones coincidentes. En el caso improbable de que se produzca un error de uno de los trabajos, finalizará el resto de los trabajos activos (si se proporciona la función de anular) y devolverá el error junto con los datos recuperados en la función de devolución de llamada principal.

#### <a name="input-array"></a>Matriz de entrada

```javascript
var parallel = require('asynckit').parallel
  , assert   = require('assert')
  ;

var source         = [ 1, 1, 4, 16, 64, 32, 8, 2 ]
  , expectedResult = [ 2, 2, 8, 32, 128, 64, 16, 4 ]
  , expectedTarget = [ 1, 1, 2, 4, 8, 16, 32, 64 ]
  , target         = []
  ;

parallel(source, asyncJob, function(err, result)
{
  assert.deepEqual(result, expectedResult);
  assert.deepEqual(target, expectedTarget);
});

// async job accepts one element from the array
// and a callback function
function asyncJob(item, cb)
{
  // different delays (in ms) per item
  var delay = item * 25;

  // pretend different jobs take different time to finish
  // and not in consequential order
  var timeoutId = setTimeout(function() {
    target.push(item);
    cb(null, item * 2);
  }, delay);

  // allow to cancel "leftover" jobs upon error
  // return function, invoking of which will abort this job
  return clearTimeout.bind(null, timeoutId);
}
```

Se pueden encontrar más ejemplos en [test/test-parallel-array.js](test/test-parallel-array.js).

#### <a name="input-object"></a>Objeto de entrada

También admite trabajos con nombre, enumerados a través del objeto.

```javascript
var parallel = require('asynckit/parallel')
  , assert   = require('assert')
  ;

var source         = { first: 1, one: 1, four: 4, sixteen: 16, sixtyFour: 64, thirtyTwo: 32, eight: 8, two: 2 }
  , expectedResult = { first: 2, one: 2, four: 8, sixteen: 32, sixtyFour: 128, thirtyTwo: 64, eight: 16, two: 4 }
  , expectedTarget = [ 1, 1, 2, 4, 8, 16, 32, 64 ]
  , expectedKeys   = [ 'first', 'one', 'two', 'four', 'eight', 'sixteen', 'thirtyTwo', 'sixtyFour' ]
  , target         = []
  , keys           = []
  ;

parallel(source, asyncJob, function(err, result)
{
  assert.deepEqual(result, expectedResult);
  assert.deepEqual(target, expectedTarget);
  assert.deepEqual(keys, expectedKeys);
});

// supports full value, key, callback (shortcut) interface
function asyncJob(item, key, cb)
{
  // different delays (in ms) per item
  var delay = item * 25;

  // pretend different jobs take different time to finish
  // and not in consequential order
  var timeoutId = setTimeout(function() {
    keys.push(key);
    target.push(item);
    cb(null, item * 2);
  }, delay);

  // allow to cancel "leftover" jobs upon error
  // return function, invoking of which will abort this job
  return clearTimeout.bind(null, timeoutId);
}
```

Se pueden encontrar más ejemplos en [test/test-parallel-object.js](test/test-parallel-object.js).

### <a name="serial-jobs"></a>Trabajos en serie

Ejecuta el iterador sobre la matriz proporcionada de forma secuencial. Almacena la salida en la matriz `result`, en las posiciones coincidentes. En el caso improbable de que se produzca un error de uno de los trabajos, no continuará con el resto de los elementos de la lista y devolverá el error junto con los datos recuperados en la función de devolución de llamada principal.

#### <a name="input-array"></a>Matriz de entrada

```javascript
var serial = require('asynckit/serial')
  , assert = require('assert')
  ;

var source         = [ 1, 1, 4, 16, 64, 32, 8, 2 ]
  , expectedResult = [ 2, 2, 8, 32, 128, 64, 16, 4 ]
  , expectedTarget = [ 0, 1, 2, 3, 4, 5, 6, 7 ]
  , target         = []
  ;

serial(source, asyncJob, function(err, result)
{
  assert.deepEqual(result, expectedResult);
  assert.deepEqual(target, expectedTarget);
});

// extended interface (item, key, callback)
// also supported for arrays
function asyncJob(item, key, cb)
{
  target.push(key);

  // it will be automatically made async
  // even it iterator "returns" in the same event loop
  cb(null, item * 2);
}
```

Se pueden encontrar más ejemplos en [test/test-serial-array.js](test/test-serial-array.js).

#### <a name="input-object"></a>Objeto de entrada

También admite trabajos con nombre, enumerados a través del objeto.

```javascript
var serial = require('asynckit').serial
  , assert = require('assert')
  ;

var source         = [ 1, 1, 4, 16, 64, 32, 8, 2 ]
  , expectedResult = [ 2, 2, 8, 32, 128, 64, 16, 4 ]
  , expectedTarget = [ 0, 1, 2, 3, 4, 5, 6, 7 ]
  , target         = []
  ;

var source         = { first: 1, one: 1, four: 4, sixteen: 16, sixtyFour: 64, thirtyTwo: 32, eight: 8, two: 2 }
  , expectedResult = { first: 2, one: 2, four: 8, sixteen: 32, sixtyFour: 128, thirtyTwo: 64, eight: 16, two: 4 }
  , expectedTarget = [ 1, 1, 4, 16, 64, 32, 8, 2 ]
  , target         = []
  ;


serial(source, asyncJob, function(err, result)
{
  assert.deepEqual(result, expectedResult);
  assert.deepEqual(target, expectedTarget);
});

// shortcut interface (item, callback)
// works for object as well as for the arrays
function asyncJob(item, cb)
{
  target.push(item);

  // it will be automatically made async
  // even it iterator "returns" in the same event loop
  cb(null, item * 2);
}
```

Se pueden encontrar más ejemplos en [test/test-serial-object.js](test/test-serial-object.js).

_Nota: Dado que el _objeto_ es una colección _desordenada_ de propiedades, puede generar resultados inesperados con iteraciones secuenciales. Siempre que el orden de ejecución de los trabajos sea importante, use el método `serialOrdered`._

### <a name="ordered-serial-iterations"></a>Iteraciones de serie ordenadas

TBD

Por ejemplo, paquete [compare-property](compare-property).

### <a name="streaming-interface"></a>Interfaz de streaming

TBD

## <a name="want-to-know-more"></a>¿Quiere saber más?

Puede encontrar más ejemplos en la [carpeta de prueba](test/).

O abra un [problema](https://github.com/alexindigo/asynckit/issues) con preguntas o sugerencias.

## <a name="license"></a>Licencia

Autorización sujeta a la licencia MIT.
