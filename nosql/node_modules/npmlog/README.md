---
ms.openlocfilehash: f445a828ea5ae5cba850b910d938f10a783a7ed8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051988"
---
# <a name="npmlog"></a>npmlog

Utilidad del registrador que usa npm.

Este registrador es muy básico.  Realiza el registro de npm.  Admite niveles personalizados y salida coloreada.

De forma predeterminada, los registros se escriben en stderr.  Si desea enviar mensajes de registro a salidas que no sean secuencias, puede cambiar el miembro `log.stream` o simplemente escuchar los eventos que emite y hacer lo que desee con ellos.

# <a name="installation"></a>Instalación

```console
npm install npmlog --save
```

# <a name="basic-usage"></a>Uso básico

```javascript
var log = require('npmlog')

// additional stuff ---------------------------+
// message ----------+                         |
// prefix ----+      |                         |
// level -+   |      |                         |
//        v   v      v                         v
    log.info('fyi', 'I have a kitty cat: %j', myKittyCat)
```

## <a name="loglevel"></a>log.level

* {Cadena}

Nivel en el que se muestran los registros.  Se mostrarán todos los registros en este nivel o superior.  El nivel especial `silent` impedirá que se muestre cualquier cosa jamás.

## <a name="logrecord"></a>log.record

* {Matriz}

Una matriz de todos los mensajes de registro que se han escrito.

## <a name="logmaxrecordsize"></a>log.maxRecordSize

* {Número}

El número máximo de registros que guardan.  Si log.record supera el 10 % de este valor, se segmenta hasta el 90 %.

El motivo de la ventana del 10 % es que no tiene que cambiar el tamaño de una matriz grande en cada entrada de registro.

## <a name="logprefixstyle"></a>log.prefixStyle

* {Objeto}

Un objeto de estilo que especifica cómo se aplica estilo a los prefijos.  (Véase a continuación)

## <a name="logheadingstyle"></a>log.headingStyle

* {Objeto}

Un objeto de estilo que especifica cómo se aplica estilo al encabezado.  (Véase a continuación)

## <a name="logheading"></a>log.heading

* {Cadena} Predeterminado: ""

Si se establece, un encabezado que se imprime al principio de cada línea.

## <a name="logstream"></a>log.stream

* {Flujo} Predeterminado: `process.stderr`

Un flujo donde se escribe la salida.

## <a name="logenablecolor"></a>log.enableColor()

Fuerza el uso de colores en todos los mensajes, independientemente del flujo de salida.

## <a name="logdisablecolor"></a>log.disableColor()

Deshabilita los colores en todos los mensajes.

## <a name="logenableprogress"></a>log.enableProgress()

Habilita la visualización del indicador giratorio del registro de actividad y la barra de progreso

## <a name="logdisableprogress"></a>log.disableProgress()

Deshabilita la visualización de una barra de progreso

## <a name="logenableunicode"></a>log.enableUnicode()

Fuerza el tema Unicode que se usará para la barra de progreso.

## <a name="logdisableunicode"></a>log.disableUnicode()

Deshabilita el uso de Unicode en la barra de progreso.

## <a name="logsetgaugetemplatetemplate"></a>log.setGaugeTemplate(template)

Establece una plantilla para generar la barra de progreso. Consulte la [documentación de medidor] para más detalles.

[documentación de medidor]: https://npmjs.com/package/gauge

## <a name="logsetgaugethemesetthemes"></a>log.setGaugeThemeset(themes)

Selecciona un conjunto de temas para elegir los temas de la barra de progreso. Consulte la [documentación de medidor] para más detalles.

## <a name="logpause"></a>log.pause()

Deja de emitir mensajes al flujo de datos, pero no los anula.

## <a name="logresume"></a>log.resume()

Emite todos los mensajes almacenados en búfer que se escribieron mientras estaba en pausa.

## <a name="logloglevel-prefix-message-"></a>log.log(level, prefix, message, ...)

* `level` {Cadena} El nivel en el que se emite el mensaje
* `prefix` {Cadena} Prefijo de cadena.  Para omitir, se establece en "".
* `message...` Argumentos para `util.format`

Emite un mensaje de registro en el nivel especificado.

## <a name="loglevel"></a>log\[level](prefix, message, ...)

Por ejemplo,

* log.silly(prefix, message, ...)
* log.verbose(prefix, message, ...)
* log.info(prefix, message, ...)
* log.http(prefix, message, ...)
* log.warn(prefix, message, ...)
* log.error(prefix, message, ...)

Por ejemplo, `log.log(level, prefix, message, ...)`.  De esta manera, a cada nivel se le asigna una abreviatura, por lo que puede hacer `log.info(prefix, message)`.

## <a name="logaddlevellevel-n-style-disp"></a>log.addLevel(level, n, style, disp)

* `level` {Cadena} Indicador de nivel
* `n` {Número} Nivel numérico
* `style` {Objeto} Objeto con fg, bg, inverso, etc.
* `disp` {Cadena} Reemplazo opcional de `level` en la salida.

Configura un nuevo nivel con una función abreviada, etc.

Tenga en cuenta que si el número es `Infinity`, establecer el nivel en ese número hará que se supriman todos los mensajes de registro.  Si el número es `-Infinity`, la única manera de mostrarlo es habilitar todos los mensajes de registro.

## <a name="lognewitemname-todo-weight"></a>log.newItem(name, todo, weight)

* `name` {Cadena} Opcional; nombre del elemento de progreso.
* `todo` {Número} Opcional; cantidad total de trabajo que se va a realizar. Predeterminado en 0.
* `weight` {Número} Opcional; el peso de este elemento en relación con otros. Predeterminado en 1.

Esto agrega un nuevo seguimiento de elementos `are-we-there-yet` al seguimiento de progreso. El objeto devuelto tiene los métodos `log[level]` pero de lo contrario es un objeto `are-we-there-yet` `Tracker`.

## <a name="lognewstreamname-todo-weight"></a>log.newStream(name, todo, weight)

Esto agrega un nuevo seguimiento de elementos `are-we-there-yet` al seguimiento de progreso. El objeto devuelto tiene los métodos `log[level]` pero de lo contrario es un objeto `are-we-there-yet` `TrackerStream`.

## <a name="lognewgroupname-weight"></a>log.newGroup(name, weight)

Esto agrega un grupo de seguimiento `are-we-there-yet` al seguimiento de progreso. El objeto devuelto tiene los métodos `log[level]` pero de lo contrario es un objeto `are-we-there-yet` `TrackerGroup`.

# <a name="events"></a>Eventos

Todos los eventos se emiten con el objeto de mensaje.

* `log` Emitido para todos los mensajes
* `log.<level>` Emitido para todos los mensajes con nivel `<level>`.
* `<prefix>` Los mensajes con prefijos también emiten su prefijo como evento.

# <a name="style-objects"></a>Objetos de estilo

Los objetos de estilo pueden tener los siguientes campos:

* `fg` {Cadena} Color del texto en primer plano
* `bg` {Cadena} Color del fondo
* `bold`, `inverse`, `underline` {Booleano} Establecen la propiedad asociada
* `bell` {Booleano} Hace ruido (esto es probablemente bastante molesto)

# <a name="message-objects"></a>Objetos de mensaje

Cada evento de registro se emite con un objeto de mensaje y la lista `log.record` contiene todas las que se han creado.  Tienen los campos siguientes:

* `id` {Número}
* `level` {Cadena}
* `prefix` {Cadena}
* `message` {Cadena} Resultado de `util.format()`
* `messageRaw` {Matriz} Argumentos para `util.format()`

# <a name="blocking-ttys"></a>Bloqueo de TTY

Se usa [`set-blocking`](https://npmjs.com/package/set-blocking) para establecer stderr y bloqueo de stdout si son tty y tienen la llamada setBlocking.
Se trata de una alternativa a un problema en versiones anteriores de Node.js 6.x, que hacían que stderr y stdout estuvieran sin bloqueo en OSX. (Siempre bloquean Windows y nunca bloquean en Linux). `npmlog` necesita que estén bloqueando para que pueda permitir que la salida a stdout y stderr se intercale.
